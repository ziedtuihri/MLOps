# === Pipeline complet automatis√©
auto:
        @echo "üöÄ Ex√©cution compl√®te du pipeline + API :"
        $(PYTHON) -c "\
from functionalities import prepare_data, train_model, evaluate_model, save_model, load_model;\
import mlflow;\
mlflow.set_tracking_uri('http://localhost:5000');\
print('‚ñ∂ Pr√©paration...');\
X, cols = prepare_data('$(DATA)');\
print('‚úÖ Donn√©es pr√©par√©es.');\
print('‚ñ∂ Entra√Ænement...');\
model, X_test, y_test = train_model(X, cols);\
print('‚úÖ Mod√®le entra√Æn√©.');\
print('‚ñ∂ √âvaluation...');\
evaluate_model(model, X_test, y_test);\
print('‚ñ∂ Sauvegarde...');\
save_model(model);\
print('‚ñ∂ Chargement...');\
load_model();\
print('‚úÖ Pipeline termin√© avec succ√®s.')"
        @echo "üåê Lancement de l'API FastAPI..."
        uvicorn app:app --reload --host 0.0.0.0 --port 8000

# === Interface de suivi MLflow
mlflow-ui:
        @echo "üöÄ Lancement du serveur MLflow √† http://localhost:5000"


git remote add origin https://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@github.com/Nourbay/MLOps.git

        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